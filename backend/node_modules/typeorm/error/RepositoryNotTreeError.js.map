{"version":3,"sources":["../../src/error/RepositoryNotTreeError.ts"],"names":[],"mappings":";;;AACA,iDAA6C;AAC7C,qDAAiD;AACjD,6DAAyD;AAEzD;;GAEG;AACH,MAAa,sBAAuB,SAAQ,2BAAY;IACpD,YAAY,WAA8B;QACtC,KAAK,EAAE,CAAA;QAEP,IAAI,UAAkB,CAAA;QACtB,IAAI,iCAAe,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE,CAAC;YAC9C,UAAU,GAAG,WAAW,CAAC,OAAO,CAAC,IAAI,CAAA;QACzC,CAAC;aAAM,IAAI,OAAO,WAAW,KAAK,UAAU,EAAE,CAAC;YAC3C,UAAU,GAAG,WAAW,CAAC,IAAI,CAAA;QACjC,CAAC;aAAM,IACH,yBAAW,CAAC,QAAQ,CAAC,WAAW,CAAC;YACjC,MAAM,IAAK,WAAmB,EAChC,CAAC;YACC,UAAU,GAAI,WAAmB,CAAC,IAAI,CAAA;QAC1C,CAAC;aAAM,CAAC;YACJ,UAAU,GAAG,WAAkB,CAAA;QACnC,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,sBAAsB,UAAU,+EAA+E,CAAA;IAClI,CAAC;CACJ;AAnBD,wDAmBC","file":"RepositoryNotTreeError.js","sourcesContent":["import { EntityTarget } from \"../common/EntityTarget\"\r\nimport { TypeORMError } from \"./TypeORMError\"\r\nimport { ObjectUtils } from \"../util/ObjectUtils\"\r\nimport { InstanceChecker } from \"../util/InstanceChecker\"\r\n\r\n/**\r\n * Thrown when repository for the given class is not found.\r\n */\r\nexport class RepositoryNotTreeError extends TypeORMError {\r\n    constructor(entityClass: EntityTarget<any>) {\r\n        super()\r\n\r\n        let targetName: string\r\n        if (InstanceChecker.isEntitySchema(entityClass)) {\r\n            targetName = entityClass.options.name\r\n        } else if (typeof entityClass === \"function\") {\r\n            targetName = entityClass.name\r\n        } else if (\r\n            ObjectUtils.isObject(entityClass) &&\r\n            \"name\" in (entityClass as any)\r\n        ) {\r\n            targetName = (entityClass as any).name\r\n        } else {\r\n            targetName = entityClass as any\r\n        }\r\n        this.message = `Repository of the \"${targetName}\" class is not a TreeRepository. Try to apply @Tree decorator on your entity.`\r\n    }\r\n}\r\n"],"sourceRoot":".."}