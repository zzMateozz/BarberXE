{"version":3,"sources":["../../src/schema-builder/table/TableColumn.ts"],"names":[],"mappings":"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","file":"TableColumn.js","sourcesContent":["import { TableColumnOptions } from \"../options/TableColumnOptions\"\r\n\r\n/**\r\n * Table's columns in the database represented in this class.\r\n */\r\nexport class TableColumn {\r\n    readonly \"@instanceof\" = Symbol.for(\"TableColumn\")\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public Properties\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Column name.\r\n     */\r\n    name: string\r\n\r\n    /**\r\n     * Column type.\r\n     */\r\n    type: string\r\n\r\n    /**\r\n     * Column's default value.\r\n     */\r\n    default?: any\r\n\r\n    /**\r\n     * ON UPDATE trigger. Works only for MySQL.\r\n     */\r\n    onUpdate?: string\r\n\r\n    /**\r\n     * Indicates if column is NULL, or is NOT NULL in the database.\r\n     */\r\n    isNullable: boolean = false\r\n\r\n    /**\r\n     * Indicates if column is auto-generated sequence.\r\n     */\r\n    isGenerated: boolean = false\r\n\r\n    /**\r\n     * Specifies generation strategy if this column will use auto increment.\r\n     * `rowid` option supported only in CockroachDB.\r\n     */\r\n    generationStrategy?: \"uuid\" | \"increment\" | \"rowid\" | \"identity\"\r\n\r\n    /**\r\n     * Indicates if column is a primary key.\r\n     */\r\n    isPrimary: boolean = false\r\n\r\n    /**\r\n     * Indicates if column has unique value.\r\n     */\r\n    isUnique: boolean = false\r\n\r\n    /**\r\n     * Indicates if column stores array.\r\n     */\r\n    isArray: boolean = false\r\n\r\n    /**\r\n     * Column's comment.\r\n     */\r\n    comment?: string\r\n\r\n    /**\r\n     * Column type's length. Used only on some column types.\r\n     * For example type = \"string\" and length = \"100\" means that ORM will create a column with type varchar(100).\r\n     */\r\n    length: string = \"\"\r\n\r\n    /**\r\n     * Column type's display width. Used only on some column types in MySQL.\r\n     * For example, INT(4) specifies an INT with a display width of four digits.\r\n     */\r\n    width?: number\r\n\r\n    /**\r\n     * Defines column character set.\r\n     */\r\n    charset?: string\r\n\r\n    /**\r\n     * Defines column collation.\r\n     */\r\n    collation?: string\r\n\r\n    /**\r\n     * The precision for a decimal (exact numeric) column (applies only for decimal column), which is the maximum\r\n     * number of digits that are stored for the values.\r\n     */\r\n    precision?: number | null\r\n\r\n    /**\r\n     * The scale for a decimal (exact numeric) column (applies only for decimal column), which represents the number\r\n     * of digits to the right of the decimal point and must not be greater than precision.\r\n     */\r\n    scale?: number\r\n\r\n    /**\r\n     * Puts ZEROFILL attribute on to numeric column. Works only for MySQL.\r\n     * If you specify ZEROFILL for a numeric column, MySQL automatically adds the UNSIGNED attribute to the column\r\n     */\r\n    zerofill: boolean = false\r\n\r\n    /**\r\n     * Puts UNSIGNED attribute on to numeric column. Works only for MySQL.\r\n     */\r\n    unsigned: boolean = false\r\n\r\n    /**\r\n     * Array of possible enumerated values.\r\n     */\r\n    enum?: string[]\r\n\r\n    /**\r\n     * Exact name of enum\r\n     */\r\n    enumName?: string\r\n\r\n    /**\r\n     * Name of the primary key constraint for primary column.\r\n     */\r\n    primaryKeyConstraintName?: string\r\n\r\n    /**\r\n     * Generated column expression.\r\n     */\r\n    asExpression?: string\r\n\r\n    /**\r\n     * Generated column type.\r\n     */\r\n    generatedType?: \"VIRTUAL\" | \"STORED\"\r\n\r\n    /**\r\n     * Identity column type. Supports only in Postgres 10+.\r\n     */\r\n    generatedIdentity?: \"ALWAYS\" | \"BY DEFAULT\"\r\n\r\n    /**\r\n     * Spatial Feature Type (Geometry, Point, Polygon, etc.)\r\n     */\r\n    spatialFeatureType?: string\r\n\r\n    /**\r\n     * SRID (Spatial Reference ID (EPSG code))\r\n     */\r\n    srid?: number\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Constructor\r\n    // -------------------------------------------------------------------------\r\n\r\n    constructor(options?: TableColumnOptions) {\r\n        if (options) {\r\n            this.name = options.name\r\n            this.type = options.type || \"\"\r\n            this.length = options.length || \"\"\r\n            this.width = options.width\r\n            this.charset = options.charset\r\n            this.collation = options.collation\r\n            this.precision = options.precision\r\n            this.scale = options.scale\r\n            this.zerofill = options.zerofill || false\r\n            this.unsigned = this.zerofill ? true : options.unsigned || false\r\n            this.default = options.default\r\n            this.onUpdate = options.onUpdate\r\n            this.isNullable = options.isNullable || false\r\n            this.isGenerated = options.isGenerated || false\r\n            this.generationStrategy = options.generationStrategy\r\n            this.generatedIdentity = options.generatedIdentity\r\n            this.isPrimary = options.isPrimary || false\r\n            this.isUnique = options.isUnique || false\r\n            this.isArray = options.isArray || false\r\n            this.comment = options.comment\r\n            this.enum = options.enum\r\n            this.enumName = options.enumName\r\n            this.primaryKeyConstraintName = options.primaryKeyConstraintName\r\n            this.asExpression = options.asExpression\r\n            this.generatedType = options.generatedType\r\n            this.spatialFeatureType = options.spatialFeatureType\r\n            this.srid = options.srid\r\n        }\r\n    }\r\n\r\n    // -------------------------------------------------------------------------\r\n    // Public Methods\r\n    // -------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Clones this column to a new column with exact same properties as this column has.\r\n     */\r\n    clone(): TableColumn {\r\n        return new TableColumn(<TableColumnOptions>{\r\n            name: this.name,\r\n            type: this.type,\r\n            length: this.length,\r\n            width: this.width,\r\n            charset: this.charset,\r\n            collation: this.collation,\r\n            precision: this.precision,\r\n            scale: this.scale,\r\n            zerofill: this.zerofill,\r\n            unsigned: this.unsigned,\r\n            enum: this.enum,\r\n            enumName: this.enumName,\r\n            primaryKeyConstraintName: this.primaryKeyConstraintName,\r\n            asExpression: this.asExpression,\r\n            generatedType: this.generatedType,\r\n            default: this.default,\r\n            onUpdate: this.onUpdate,\r\n            isNullable: this.isNullable,\r\n            isGenerated: this.isGenerated,\r\n            generationStrategy: this.generationStrategy,\r\n            generatedIdentity: this.generatedIdentity,\r\n            isPrimary: this.isPrimary,\r\n            isUnique: this.isUnique,\r\n            isArray: this.isArray,\r\n            comment: this.comment,\r\n            spatialFeatureType: this.spatialFeatureType,\r\n            srid: this.srid,\r\n        })\r\n    }\r\n}\r\n"],"sourceRoot":"../.."}